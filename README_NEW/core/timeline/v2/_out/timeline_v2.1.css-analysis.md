# File Analysis: `core/timeline/v2/_out/timeline_v2.1.css`

## High-Level Overview

This is the dedicated stylesheet for the modern, flexbox-based booking timeline. Its purpose is to provide all the visual styling for the timeline grid, which is rendered by the `WPBC_TimelineFlex` PHP class. It controls the layout, colors, and responsive behavior of the timeline on both the admin panel and the front-end.

Architecturally, this file is a key component of the timeline feature, translating the complex HTML structure generated by the PHP class into a functional and visually appealing Gantt-chart-style interface. It uses modern CSS techniques like Flexbox and CSS Custom Properties to create a responsive and easily themable component.

## Detailed Explanation

This is a CSS file and contains no PHP or JavaScript logic. Its functionality is delivered entirely through CSS selectors.

-   **CSS Custom Properties (Variables)**: The file begins by defining a set of CSS variables in the `:root` selector. This is a modern and powerful feature that allows for easy theming.

    ```css
    :root {
      --wpbc_timeline-row-height: 37px;
      --wpbc_timeline-booking-pending-color: #ffd86c;
      --wpbc_timeline-booking-approved-color: #5A71A1;
      /* ... and other variables ... */
    }
    ```
    These variables are then used throughout the file (e.g., `background-color: var(--wpbc_timeline-booking-approved-color)`), making it simple to change the entire color scheme by overriding just these variables.

-   **Flexbox Layout**: The entire timeline grid is built using CSS Flexbox. Selectors like `.flex_tl_table`, `.flex_tl_table_row_bookings`, and `.flex_tl_day_cell` use `display: flex` to control the alignment and distribution of the resource column, date headers, and booking bars. This provides a more robust and responsive layout than traditional HTML tables.

-   **Responsive Design**: The file uses `@media (max-width:782px)` media queries to adapt the layout for smaller screens. On mobile devices, it changes the flex-flow to `wrap`, effectively stacking the resource title and its timeline row vertically for better readability.

-   **Booking Bar Styling**: There are specific rules for the colored bars that represent bookings:
    -   `.booking_id.pending_booking` and `.booking_id.approved_booking` use the CSS variables to set their background colors.
    -   `.booking_id.past_date` applies a different, lighter color to bookings that have already occurred.
    -   `.booking_id.start_new_booking` applies a `border-radius` to the left side of a bar, visually indicating the start of a booking event.

-   **Changeover Day Triangles**: The stylesheet uses a clever `linear-gradient` trick to create the diagonal lines for check-in and check-out days, giving the appearance of a split-day triangle without requiring extra HTML elements or images.

    ```css
    .booking_id.booking_check_in {
      background: linear-gradient(to bottom right, #fff0 0, #fff0 50%, var(--wpbc_timeline-booking-pending-border-color) 50%, ...);
    }
    ```

-   **Popover Styling**: It includes detailed styles for the popovers that show booking details, controlling the appearance of the header, buttons, and content within the pop-up.

## Features Enabled

This file provides the complete visual presentation for the booking timeline.

### Admin Menu

-   It styles the timeline on the **Booking > Timeline** page, making the data grid usable and visually organized.

### User-Facing

-   It styles the output of the `[bookingtimeline]` shortcode, ensuring a consistent appearance on the front-end.

## Extension Opportunities

-   **Safe Extension Method (Theming)**: The most intended and safest way to customize the timeline's appearance is to override the CSS Custom Properties defined in the `:root` block. A developer can add a small stylesheet to their theme or a custom plugin that re-defines these variables to match their site's branding.

    ```css
    /* In a custom admin stylesheet loaded after the plugin's CSS */
    :root {
      --wpbc_timeline-booking-approved-color: #28a745; /* Change approved color to green */
      --wpbc_timeline-row-height: 45px;               /* Make rows taller */
    }
    ```

-   **Safe Extension Method (Overrides)**: For more specific changes, a developer can write more specific CSS selectors in their own stylesheet to override the default rules. Direct modification of this file is not recommended as it would be overwritten on plugin updates.

## Next File Recommendations

This file completes the analysis of the timeline feature. The next logical steps are to investigate the remaining core data structures and low-level libraries of the plugin.

1.  **`includes/page-resource-free/page-resource-free.php`** — This is the most important remaining file. It will show how booking resources (the fundamental "bookable" items) are created and managed in the free version of the plugin, which is key to understanding the plugin's core data model.
2.  **`js/datepick/jquery.datepick.wpbc.9.0.js`** — This is the core jQuery plugin that powers the calendar itself. Analyzing it would reveal the low-level client-side logic for date selection, rendering days, and applying CSS classes, which `client.js` and `admin.js` build upon.
3.  **`css/calendar.css`** — This is the base stylesheet for the calendar. Analyzing it would show the default styling for dates, which is then customized by the various skin files and is fundamental to the front-end user experience.
