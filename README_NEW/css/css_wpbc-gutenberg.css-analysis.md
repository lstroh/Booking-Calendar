# File Analysis: `css/wpbc-gutenberg.css`

## High-Level Overview

This file is a stylesheet responsible for the appearance of the Booking Calendar's custom blocks within the WordPress Gutenberg editor. Its primary role is to provide a what-you-see-is-what-you-get (WYSIWYG) experience for administrators and content editors.

It styles the preview of various booking components—such as the booking form, availability calendar, and timeline—directly on the post/page edit screen. This file is crucial for the admin-side user experience of the Gutenberg integration, ensuring that the blocks are visually coherent, intuitive, and easy to configure without needing to preview the entire page. It has no impact on the public-facing front-end of the website.

## Detailed Explanation

The stylesheet targets HTML elements generated by the plugin's Gutenberg block JavaScript. It does not contain any PHP, hooks, or direct WordPress API interactions. Its "logic" is purely presentational, based on CSS selectors targeting classes applied to the block's wrapper and internal elements.

Key CSS selectors and their purposes:

-   **`.wpbc_gb_div_block`**: The main container for a Booking Calendar block in the editor. It sets the base font and padding.
-   **`.wpbc_gb_block_preview_booking`, `.wpbc_gb_block_preview_bookingcalendar`, `.wpbc_gb_block_preview_bookingtimeline`**: These classes define the dimensions (width, height) for the different types of blocks available, ensuring they have an appropriate size in the editor.
-   **`.wpbc_gb_block_shortcode_preview_wrapper`**: This is the main wrapper for the visual preview of the block's content. It styles the border, font, and overall container that mimics the front-end output.
-   **`.wpbc_gb_block_preview_inner_*`**: A group of selectors that style the internal structure of the preview, including:
    -   `_header`: The top section with a bottom border.
    -   `_title_text`: The block's title (e.g., "Booking Form").
    -   `_title_edit`: A link or button to trigger the block's settings panel.
    -   `_body`: The main content area of the preview.
    -   `_footer`: A footer section that displays the raw generated shortcode.
-   **`.wpbc-gutenberg-open-btn`**: Styles the blue "Configure" button, which is likely used to open the main settings modal for the block. It is hidden by default and becomes visible when the block is selected (`.is-selected`).
-   **`.is-selected`**: This is a core Gutenberg class. The stylesheet leverages it to conditionally display UI elements like the configuration button only when the user is actively editing that specific block.

```css
/* Show Blue configuration shortcode button,  if block  selected or when  no shortcode at all */
.editor-block-list__block .wpbc_gb_div_block.wpbc_gb_div_block_no_shortcode a.wpbc-gutenberg-open-btn,
.editor-block-list__block.is-selected .wpbc_gb_div_block a.wpbc-gutenberg-open-btn,
.block-editor-block-list__block.is-selected .wpbc_gb_div_block a.wpbc-gutenberg-open-btn /* FixIn: 8.7.6.11 */ {
	display: block;
}
```

## Features Enabled

### Admin Menu

This file does **not** add or modify any settings pages, options, or elements within the main WordPress admin menu. Its scope is strictly limited to the Gutenberg post/page editor screen.

### User-Facing

This file has **no effect** on the user-facing side of the website. The features it enables are exclusively for the content administrator within the Gutenberg editor:

-   **Visual Block Previews**: Renders a styled preview for the `booking`, `bookingcalendar`, and `bookingtimeline` blocks, giving the user an idea of how the component will look.
-   **Contextual Controls**: Styles and manages the visibility of buttons for configuring the block. The main configuration button appears only when the block is selected, reducing UI clutter.
-   **Shortcode Display**: Provides a styled footer within the block preview to show the underlying shortcode that will be rendered on the front end.

## Extension Opportunities

-   **Safe Extension**: The safest way to modify the appearance of the blocks is to create a separate admin stylesheet, load it after the plugin's styles, and use more specific CSS selectors to override the default rules. This prevents changes from being lost during plugin updates. For example, you could target `.wpbc_gb_block_shortcode_preview_wrapper` to change the border color to match a site's branding.

-   **Potential Risks**:
    -   Directly editing `wpbc-gutenberg.css` is not recommended, as updates will overwrite it.
    -   Aggressively changing dimensions (width, height, padding) or display properties (`display: none`) could break the block's layout or hide essential controls, making the block unusable.

-   **Adding Functionality**: To add new UI elements or functionality, you would need to edit the corresponding JavaScript file for the Gutenberg block (likely `js/wpbc-gutenberg.js`). After adding the new HTML elements in the block's `edit` function, you would then add corresponding CSS rules to this file (or your custom override file) to style them.

## Next File Recommendations

1.  **`js/wpbc-gutenberg.js`**: This is the JavaScript counterpart to the CSS file. It defines the structure, attributes, and interactive behavior of the Gutenberg blocks in the editor. Analyzing it is essential to understand how the HTML styled by `wpbc-gutenberg.css` is generated and how the block's settings are managed.
2.  **`js/wpbc_times.js`**: This file likely handles the client-side logic for time-slot selection within the booking form. Understanding this script is key to customizing the booking process, such as how time slots are displayed, selected, or validated on the front-end.
3.  **`css/wpbc_time-selector.css`**: This stylesheet likely controls the appearance of the time-slot selector on the front-end. Paired with `js/wpbc_times.js`, it provides a complete picture of the implementation and styling of the time selection feature, which is a critical part of the user booking experience.
