# File Analysis: `includes/page-availability/_out/availability_page.css`

This document provides a detailed analysis of the `availability_page.css` file, which is the dedicated stylesheet for the Booking Calendar plugin's "Availability" admin page.

## High-Level Overview

This file is responsible for the entire layout and structure of the **Booking > Availability** admin page. Its primary purpose is to create a modern, responsive, two-column interface where the main availability calendar is on the left and a set of action widgets (like "Apply Availability") are on the right.

Architecturally, this stylesheet is a key presentational component of the AJAX-driven Availability page. It uses CSS Flexbox to manage the layout, ensuring that the page is both functional on large desktop screens and usable on mobile devices. It works directly with the HTML structure generated by the PHP files (`availability__page.php`, `availability__toolbar_ui.php`) and the JavaScript (`availability_page.js`) that dynamically builds the page.

## Detailed Explanation

This is a purely presentational CSS file and contains no PHP code, functions, or WordPress hooks. Its functionality is delivered entirely through CSS selectors.

-   **Flexbox Layout**: The core of the page is a flex container (`.wpbc_ajx_avy__container`) that arranges its two children, `.wpbc_ajx_avy__section_left` and `.wpbc_ajx_avy__section_right`, in a row.
    -   The left section (containing the calendar) is set to `flex: 1 1 auto;`, allowing it to grow and shrink to take up the available space.
    -   The right section (the widget sidebar) is set to `flex: 0 1 auto;`, allowing it to shrink if needed but not grow, effectively creating a fixed-width sidebar.

-   **Widget Styling**: The file provides basic styling for the widgets on the right side of the page.
    -   `.wpbc_widgets`: A flex container to stack multiple widgets vertically.
    -   `.wpbc_widget`: Styles for an individual widget container.
    -   `.wpbc_widget_header`: Styles the header of each widget, giving it a title and a white background.

-   **Responsive Design**: The file contains a critical media query for mobile devices.
    -   `@media (max-width: 470px)`: When the screen is narrow, this rule changes the layout to `flex-flow: row wrap`, which causes the right sidebar to wrap and appear underneath the calendar.
    -   **Sticky Action Widget**: A key mobile enhancement is applied to the `.wpbc_widget_available_unavailable` widget. It is given `position: fixed` and `bottom: 0`, which makes it stick to the bottom of the screen as the user scrolls. This is an excellent UX choice, as it keeps the primary "Apply" button always accessible on mobile.

-   **Toolbar and Hint Integration**: The stylesheet includes rules to fine-tune the layout of elements within the toolbar (`#toolbar_booking_availability`), using flex properties to ensure the resource selector and help text align correctly. It also increases the font size of the help text to make it more prominent.

-   **Calendar Style Overrides**: The file includes a rule to remove the `border-radius` from all calendar cells (`.datepick-inline .datepick-days-cell`). This ensures the availability calendar has a sharp, grid-like appearance suitable for an admin tool, overriding any rounded styles that might be applied by a front-end skin.

## Features Enabled

This file is exclusively for the admin panel and has no user-facing features.

### Admin Menu

-   This file does not add any menu items.
-   It is responsible for the entire layout of the **Booking > Availability** page.
-   It enables a responsive, two-column layout for the calendar and its associated action widgets.
-   It provides a "sticky footer" widget on mobile devices, ensuring the main "Apply" button is always visible and accessible for a better user experience.

### User-Facing

-   This file has no effect on the user-facing side of the website.

## Extension Opportunities

-   **Safe Extension Method**: The recommended way to customize the page's layout is to create a separate, custom admin stylesheet and enqueue it with a later priority. You can then use more specific CSS selectors to override the rules in this file. For example, to change the width of the widget sidebar:
    ```css
    /* In your custom admin CSS file */
    .wpbc_ajx_avy__container .wpbc_ajx_avy__section_right {
        width: 300px; /* Override the default width */
        flex-basis: 300px;
    }
    ```

-   **Reusing Classes**: A developer building a custom admin page that requires a similar calendar-and-sidebar layout could reuse the classes from this file (e.g., `.wpbc_ajx_avy__container`) to achieve a consistent look and feel with the rest of the plugin.

-   **Potential Risks**: The layout is entirely dependent on CSS Flexbox. Modifying the `display` or `flex` properties without understanding the model could easily break the page's structure and responsiveness. The `position: fixed` rule for the mobile widget is also a key part of the user experience that could be disrupted by overrides.

## Next File Recommendations

Having analyzed the PHP controllers, data access layer, toolbar UI, and now the page's CSS, the only remaining piece of the Availability page is its client-side JavaScript.

1.  **`includes/page-availability/_out/availability_page.js`**: **Top Priority.** This is the JavaScript file that is enqueued for this page. It is the client-side engine that makes the initial AJAX call, receives the JSON data from the server, renders the Underscore.js templates to build the page, and handles all subsequent user interactions.
2.  **`includes/page-resource-free/page-resource-free.php`**: This remains a high-priority, un-analyzed file. Understanding how booking resources (the "bookable" items) are created and managed is fundamental to the entire plugin's data model.
3.  **`js/user-data-saver.js`**: This file is still relevant as it likely handles the client-side logic for saving user preferences, such as the last-selected resource or view mode on the Availability page.
